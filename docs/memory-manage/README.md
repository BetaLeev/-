# 内存管理
当操作系统接收道运行某程序道命令后，要为该程序的运行分配内存资源，创建进程，并把进程的全部或部分调入内存。

进程运行结束，系统要回收被撤销进程的内存空间。

内存管理的目标一方面是实现内存分配、内存回收等基本内存管理功能，另一方面是要提高内存空间的利用率和内存的访问速度。

每个程序员都希望自己都程序能运行在一个独占的、容量充分大、访问速度足够快的存储器上。然而，事实上计算机的内存是有限的，而且是被许多应用程序共享的。

处于同一内存中的不同进程之间必然会存在竞争与相互影响。操作系统的内存管理正是解决这一问题的，其目标是充分利用现有的内存资源，为应用程序提供方便的内存使用方式和一个快速、安全且充分大的存储器。


##  存储器的层次结构
内存是计算机存储系统的一部分。
存储器系统是一个具有不同容量、成本和访问时间的存储设备的层次结构。

CPU寄存器保存最常用的数据。靠近CPU的容量小、速度快的高速缓存存储器作为速度相对较慢、容量较大的主存中数据和指令子集的缓冲区。主存暂时存放容量更大、速度更慢的磁盘上的数据。而这些磁盘常常又作为存储在通过网络链接的其他及其的磁盘或磁带上的数据的缓冲区。

如果程序需要的数据是存放在CPU寄存器中的，程序执行期间在零个周期内就可以访问道它们。如果存储在高速缓存中，需要1-10个周期，如果这些数据存放在主存中，访问它们需要50-100个周期。而如果这些数据是存放在磁盘中的，要访问它们需要大约2000万个周期。

程序的执行遵循局部性原理。程序执行的局部性原理指出，程序在执行时呈现出局部性规律，即在一段较短的时间内，程序的执行仅局限于某个部分，相应地，它所访问的存储空间也局限于某个区域。

关于程序执行的局部性原理有以下几个论点。

1. 程序在执行时，除了少部分的转移和过程调用指令以外，在大多数情况下是顺序执行的。

2. 过程调用将会使程序的执行轨迹由一部分内存区域转移道另一部分内存区域。但研究表明，在大多数情况下，过程调用的深度都不超过5.

3. 程序中存在很多循环结构，它们虽然由少数指令构成，但多次执行。

4. 程序中往往包括许多对数据结构对处理。例如对数组进行操作，它们往往都局限在很小都范围内。

总的来说，局部性原理表现为时间和空间都局限性。

1. 时间局限性。如果程序中都某条指令一旦执行，则不久后该指令可能再次执行。如果某个数据结构被访问，不久以后该数据结构可能被再次访问。

2. 空间局限性。一旦程序访问了某个但愿，在不久以后，其附近的存储但愿也将被访问。

具有良好局部性的程序会经常访问相同的数据集合或相邻的数据集合。

具有良好局部性的程序比局部性差的程序能更好地利用处于高层次的存储器，因此运行速度更快。


## 程序的链接和接入


## 连续分配存储管理方式


## 基本分页存储管理方式

## 基于分页的虚拟存储系统

## 分段存储管理

## Linux的伙伴系统




