# 进程管理
操作系统本身就是一种软件，本质上就是数据结构加算法。

操作系统最核心的概念是进程，操作系统的其他所有内容都是围绕进程展开的

## 进程的描述
一、程序的并发执行
1. 程序的顺序执行
早期无操作系统及单道批处理系统的计算机中，程序的执行都是典型的顺序执行。
先进入内存的程序先执行，在一个程序执行完毕之前，不能执行其他程序。程序中的指令也是依照程序的控制流依次执行，一条指令执行完毕之前不能开始执行另一条指令。
程序顺序执行时具有以下特点。

(1) 顺序性
处理机的操作，严格按照程序所规定的顺序执行，即只有前一操作结束后，才能执行后继操作。

(2) 封闭性
程序是在封闭的环境下运行的。
即程序在运行时独占全机资源，因而各资源的状态（除初始状态外）只有本程序才能改变。
程序一旦开始运行，其结果不受外界因素的影响。

(3) 可再现性
只要程序执行时的环境和初始条件相同，当程序多次重复执行时，其执行结果相同

2. 程序的并发执行
程序的并发是指在同一时间间隔内运行多个程序。一个程序执行结束之前，可以运行其他程序。
对用户而言，看到的是计算机同时运行多个程序。
程序并发执行的确切含义是从宏观上，用户看到多个程序同时向前不断地推进。
而从微观上，任意时刻一个CPU上只有一个程序在执行。
在现代单CPU或多CPU的计算机中，支持多任务及支持多用户多任务的操作系统都能够有效管理和支持程序的并发执行。
多道程序系统和分时系统都允许用户程序在计算机系统中并发执行，程序并发执行具有以下特点

(1) 间断性
程序在并发执行时，由于它们共享资源，而资源数量又往往少于并发执行的程序数量，系统不能保证每个程序不受限制地占用资源。
因而，每个程序在CPU上运行，都是时断时续的。
当请求某种资源的程序数量大于被强求的资源数量时，就必然有因申请不到资源而读暂停执行的程序。
当其他程序释放资源后，该程序才可能继续执行。
资源的有限使并发执行的程序呈现执行过程的间断性。

(2) 失去封闭性
程序在并发执行时，由于它们共享资源或者合作完成同一项任务，系统的状态不再是只有正在执行的某一个程序可以“看见”和改变。

(3) 不可再现性
程序在并发执行时，由于失去了封闭性，也将导致其失去执行结果的可在现性。
同一个程序在输入完全相同的情况下多次运行，可能出现不同的运行结果。

二、进程的概念
当操作系统支持程序并发执行时，并发执行的程序可能是同一个程序在不同数据集合上的执行，也可能是不同的程序在不同数据集合上的执行，他们共享系统资源。
用程序已不能描述程序的并发执行，所以引入了进程的概念。

1. 进程的定义

定义1：进程是允许并发执行的程序在某个数据集合上的运行过程。
定义2：进程是由正文段、用户数据段存放进进程在执行时直接进行操作的用户数据。
进程控制块存放程序的运行环境，操作系统通过这些数据描述和管理进程。
程序装入内存后就可以运行了，根据指令计数器PC的值，不断将指令从内存取到CPU的指令寄存器中，经过译码后完成各种操作。
这些指令控制的对象不外乎各种存储器（内存、外存和各种CPU寄存器）这些存储器中有待运行的指令和待处理的数据，指令只有得到CPU才能发挥其作用。

2. 进程的特征
进程是操作系统管理的实体，对应了程序的执行过程，具有以下几个特征。
(1) 并发性
多个进程尸体能在一段时间间隔内同时运行。并发性是进程和现代操作系统的重要特征。

(2) 动态性
进程是进程实体的执行过程。
进程的动态性表现在因执行程序而创建进程、因获得CPU而执行进程的指令、因运行终止而被撤销的动态变化过程。此外，进程在被创建后还有进程状态的变化。

(3) 独立性
在没有引入线程概念的操作系统中，进程是独立运行和资源调度的基本单位。

(4) 异步性
是指程序的执行时断时续，进程什么时候执行、什么时候暂停都无法预知，呈现一种随机的特性。
在终端技术出现以后，系统还需要处理随时可能出现的中断事件。

(5) 结构特征
进程实体包括用户正文段、用户数据段和进程控制块。

3. 进程与程序的比较

(1) 进程与程序的区别
程序是静态的，进程是动态的。
程序是存储在某种介质上的二进制代码，进程对应了程序执行的过程，系统不需要为一个不执行的程序创建进程，一旦进程被创建，就处于不断变化的动态过程中，对应了一个不断变化的上下文环境。
程序是与哦你更久的，进程是暂时存在的。
程序的永久性是现对于进程而言的，只要程序的拥有者不去删除它，程序可以永久地存在于磁盘、U盘等外存储介质中。
进程因程序的执行而被创建，因程序执行的结束而被撤销，有一个相对短暂的生命期。
程序与进程的存在实体不同。程序是指令的集合，而进程是包括了正文段、用户数据段和进程控制块的实体。

(2) 进程与程序的联系
进程是程序的一次执行，进程总是对应至少一个特定的程序，执行程序的代码。
一个进程可以对应多个进程。
同一个程序可以在不同的数据集合上运行，因而构成若干个不同的进程。
几个进程能并发执地行相同的程序代码，而同一个进程能顺序地执行几个程序。

三、进程控制快
操作系统的进程不仅是一个概念，而且是真实存在的实体。应用程序对应的进程由程序、用户数据和操作系统管理进程所需要的进程控制块构成。进程实体存在的标志是操作系统管理进程所使用的数据结构 - 进程控制块

1. 什么是进程控制体

2. 进程控制块中的信息



四、进程的状态

1. 进程的3种基本状态

(1) 就绪态
(2) 执行态
(3) 阻塞态

2. 进程状态的转换

3. Linux的进程状态

五、进程的组织

1. 链接方式

2. 索引方式

3. 进程队列

## 进程的控制
一、进程的创建

二、进程的阻塞

三、进程的唤醒

四、进程的终止

五、操作系统的启动和系统中进程的出现

## 操作系统内核

1. 支撑功能

2. 资源管理功能

一、中断
1. 什么是中断
2. 为什么需要中断
3. 中断的类型
4. 引起中断的原因
5. 中断响应
6. 单冲中断的处理过程
7. 如何找到中断服务子程序

二、时钟管理
1. 时钟的重要性
2. 计算机系统中的时钟
3. 操作系统的时钟机制
4. Linux时钟

三、系统调用
1. 什么是系统调用
2. 系统调用与一般函数的区别
3. 普通函数执行过程实例
4. 系统调用执行过程实例
5. 系统调用的类型
6. Linux中的系统调用举例


## 进程同步
一、进程同步的基本概念
二、同步机制应遵循的准则

1. 空闲让进
2. 忙则等待
3. 有限等待
4. 让权等待

三、信号量机制

1. 整型信号量机制
2. 记录型信号量机制
3. AND型信号量机制

四、经典的进程同步问题

1. 生产者 - 消费者 问题的描述
2. 读者 - 写者问题

五、管程
1. 管程的基本概念

2. 管程的应用

## 进程通信
1. 共享存储器系统

2. 消息传递系统

3. 管道通信

4. 消息缓冲队列

## 线程
一、线程的描述
1. 线程的概念和分类
2. 线程的3种基本状态
3. 线程控制快
4. 线程与进程的关系

二、线程的控制
1. 线程创建
2. 线程的终止
3. 线程的调度与切换
4. 线程的阻塞与唤醒

三、线程的同步

四、线程通信